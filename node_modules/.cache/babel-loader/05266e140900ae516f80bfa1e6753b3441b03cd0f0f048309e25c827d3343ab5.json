{"ast":null,"code":"import{Component}from'react';import MarvelService from'../../services/MarvelService';import'./randomChar.scss';import mjolnir from'../../resources/img/mjolnir.png';import Spinner from'../spinner/Spinner';import ErrorMessage from'../errorMessage/ErrorMessage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class RandomChar extends Component{constructor(){super(...arguments);this.state={char:{},loading:true,error:false};this.marvelService=new MarvelService();this.onCharLoaded=char=>{this.setState({char,loading:false});};this.onError=()=>{this.setState({loading:false,error:true});};this.updateChar=()=>{this.setState({loading:true,error:false});const id=Math.floor(Math.random()*(1011400-1011000)+1011000);this.marvelService.getCharacter(id).then(this.onCharLoaded).catch(this.onError);};}componentDidMount(){this.updateChar();// this.timerId = setInterval(this.updateChar, 8000);\n}componentWillUnmount(){clearInterval(this.timerId);}render(){const{char,loading,error}=this.state;const errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;const spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;const content=!(loading||error)?/*#__PURE__*/_jsx(View,{char:char}):null;return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar\",children:[errorMessage,spinner,content,/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__static\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"randomchar__title\",children:[\"Random character for today!\",/*#__PURE__*/_jsx(\"br\",{}),\"Do you want to get to know him better?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__title\",children:\"Or choose another one\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.updateChar,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"try it\"})}),/*#__PURE__*/_jsx(\"img\",{src:mjolnir,alt:\"mjolnir\",className:\"randomchar__decoration\"})]})]});}}const View=_ref=>{let{char}=_ref;const{name,description,thumbnail,homepage,wiki}=char;let imgStyle={'objectFit':'cover'};if(thumbnail==='http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'){imgStyle={'objectFit':'contain'};}return/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__block\",children:[/*#__PURE__*/_jsx(\"img\",{style:imgStyle,src:thumbnail,alt:\"Random character\",className:\"randomchar__img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"randomchar__descr\",children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"randomchar__btns\",children:[/*#__PURE__*/_jsx(\"a\",{href:homepage,className:\"button button__main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"homepage\"})}),/*#__PURE__*/_jsx(\"a\",{href:wiki,className:\"button button__secondary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner\",children:\"Wiki\"})})]})]})]});};export default RandomChar;","map":{"version":3,"names":["Component","MarvelService","mjolnir","Spinner","ErrorMessage","jsx","_jsx","jsxs","_jsxs","RandomChar","constructor","arguments","state","char","loading","error","marvelService","onCharLoaded","setState","onError","updateChar","id","Math","floor","random","getCharacter","then","catch","componentDidMount","componentWillUnmount","clearInterval","timerId","render","errorMessage","spinner","content","View","className","children","onClick","src","alt","_ref","name","description","thumbnail","homepage","wiki","imgStyle","style","href"],"sources":["D:/marvel_starter/src/components/randomChar/RandomChar.js"],"sourcesContent":["import { Component } from 'react';\n\nimport MarvelService from '../../services/MarvelService';\nimport './randomChar.scss';\nimport mjolnir from '../../resources/img/mjolnir.png';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nclass RandomChar extends Component {\n\n    state = {\n        char: {},\n        loading: true,\n        error: false,\n    }\n\n    marvelService = new MarvelService();\n\n    componentDidMount() {\n        this.updateChar();\n        // this.timerId = setInterval(this.updateChar, 8000);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.timerId)\n    }\n\n    onCharLoaded = (char) => {\n        this.setState({\n            char,\n            loading: false\n        })\n    }\n\n    onError = () => {\n        this.setState({\n            loading: false,\n            error: true\n        })\n    }\n\n    updateChar = () => {\n        this.setState({\n            loading: true,\n            error: false\n        })\n\n        const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n        this.marvelService\n            .getCharacter(id)\n            .then(this.onCharLoaded)\n            .catch(this.onError)\n    }\n\n\n    render() {\n        const { char, loading, error } = this.state;\n        const errorMessage = error ? <ErrorMessage /> : null;\n        const spinner = loading ? <Spinner /> : null;\n        const content = !(loading || error) ? <View char={char} /> : null;\n\n        return (\n            <div className=\"randomchar\" >\n                {errorMessage}\n                {spinner}\n                {content}\n                <div className=\"randomchar__static\">\n                    <p className=\"randomchar__title\">\n                        Random character for today!<br />\n                        Do you want to get to know him better?\n                    </p>\n                    <p className=\"randomchar__title\">\n                        Or choose another one\n                    </p>\n                    <button\n                        onClick={this.updateChar}\n                        className=\"button button__main\">\n                        <div className=\"inner\">try it</div>\n                    </button>\n                    <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\" />\n                </div>\n            </div>\n        )\n    }\n}\n\nconst View = ({ char }) => {\n    const { name, description, thumbnail, homepage, wiki } = char\n    let imgStyle = { 'objectFit': 'cover' };\n    if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\n        imgStyle = { 'objectFit': 'contain' }\n    }\n\n    return (\n        <div className=\"randomchar__block\">\n            <img\n                style={imgStyle}\n                src={thumbnail}\n                alt=\"Random character\"\n                className=\"randomchar__img\" />\n            <div className=\"randomchar__info\">\n                <p className=\"randomchar__name\">{name}</p>\n                <p className=\"randomchar__descr\">\n                    {description}\n                </p>\n                <div className=\"randomchar__btns\">\n                    <a href={homepage} className=\"button button__main\">\n                        <div className=\"inner\">homepage</div>\n                    </a>\n                    <a href={wiki} className=\"button button__secondary\">\n                        <div className=\"inner\">Wiki</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RandomChar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}